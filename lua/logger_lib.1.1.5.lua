local logger_lib=[================[--[==[ logger.lua (Cheat Engine Autorun)--]==]; --[==[ Global logging utility for CE tables--]==]; --[==[ Author: https://github.com/mcpolo99--]==]; local GLOBAL_NAME = "Logger"; --[==[ Prevent double-loading and Hot-reload support--]==]; if _G[GLOBAL_NAME] then; local old = _G[GLOBAL_NAME]; if type(old.destroy) == "function" then; old.destroy(); end; _G[GLOBAL_NAME] = nil; collectgarbage("collect") --[==[ optional but nice in CE--]==]; print("[Logger] Reloading existing instance"); end; local Logger = {}; Logger.__index = Logger; --[==[ =====================--]==]; --[==[ Metadata--]==]; --[==[ =====================--]==]; Logger.version = "Logger 1.1.5 (CE)"; local about = { author  = "https://github.com/mcpolo99", link    = "https://github.com/mcpolo99/public/tree/main/lua", purpose = "Used primarily for Cheat Engine tables", todo    = "Add optional file logging"; }; function Logger.about(); print("[", Logger.version, "]"); for k, v in pairs(about) do; print(("  %-8s : %s"):format(k, v)); end; end; --[==[ =====================--]==]; --[==[ Log Levels--]==]; --[==[ =====================--]==]; --[==[-@class Logger.Level--]==]; Logger.Level = { ERROR = 1, WARN  = 2, INFO  = 3, DEBUG = 4; }; --[==[ Reverse lookup for speed--]==]; local LEVEL_NAMES = { [1] = "ERROR", [2] = "WARN", [3] = "INFO", [4] = "DEBUG"; }; --[==[ Default verbosity--]==]; Logger.currentLevel = Logger.Level.DEBUG; --[==[ =====================--]==]; --[==[ Core Logger--]==]; --[==[ =====================--]==]; --[==[-@param level number--]==]; --[==[-@param ... any--]==]; function Logger.log(level, ...); if level > Logger.currentLevel then return end; local args = {...}; for i = 1, #args do; if args[i] == nil then; args[i] = "nil"; else args[i] = tostring(args[i]); end; end; local msg = table.concat(args, " "); print(string.format("[%s] %s", LEVEL_NAMES[level] or "LOG", msg)); end; --[==[ =====================--]==]; --[==[ Convenience Methods--]==]; --[==[ =====================--]==]; function Logger.error(...) Logger.log(Logger.Level.ERROR, ...) end; function Logger.warn(...)  Logger.log(Logger.Level.WARN,  ...) end; function Logger.info(...)  Logger.log(Logger.Level.INFO,  ...) end; function Logger.debug(...) Logger.log(Logger.Level.DEBUG, ...) end; --[==[ =====================--]==]; --[==[ Cleanup--]==]; --[==[ =====================--]==]; function Logger.destroy(); _G[GLOBAL_NAME] = nil; for k in pairs(Logger) do; Logger[k] = nil; end; end; --[==[ =====================--]==]; --[==[ Global Export--]==]; --[==[ =====================--]==]; _G[GLOBAL_NAME] = Logger; print("[Logger] Loaded " .. Logger.version); return Logger;]================]; load(logger_lib)();